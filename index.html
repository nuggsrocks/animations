<!doctype html>
<html>
	<head>
		<meta charset='utf-8'>
		<title>Animations</title>
		<style>
			canvas {
				border: 5px solid black;
			}
		</style>
	</head>
	<body id='body'>
		<canvas id='canvas-1' width='1000px' height='500px'></canvas>
		<br>
		<button id='start-btn'>Start</button>
		<button id='stop-btn'>Stop</button>
		<hr>
		<canvas id='canvas-2' width='700px' height='500px'></canvas>
	<script>
		// dvd logo animation
		let canvas1 = document.getElementById('canvas-1');
		let ctx1 = canvas1.getContext('2d');
		
		let xCoord = 0;
		let xSpeed = 1.5;
		let yCoord = 0;
		let ySpeed = 2;
		let colors = ['green', 'purple', 'orange', 'red', 'yellow', 'blue'];
		let currentColor = 0;

		let rectWidth = 70;
		let rectHeight = 70;

		let imageObj = new Image();
		
		imageObj.src = 'https://img.pngio.com/dvd-logo-transparent-png-pictures-free-icons-and-png-backgrounds-dvd-logo-white-459_331.png';

		imageObj.onload = () => ctx1.drawImage(imageObj, xCoord, yCoord, rectWidth, rectHeight);

		let id;


		const drawRectangle = () => {
			ctx1.save();
			
			ctx1.drawImage(imageObj, xCoord, yCoord, rectWidth, rectHeight);

			if ((xCoord + rectWidth > canvas1.width) || xCoord <= 0) {
				xSpeed = -xSpeed;
			}

			if ((yCoord + rectHeight > canvas1.height) || yCoord <= 0) {
				ySpeed = -ySpeed;
			}

			ctx1.restore();
		};

		
		const animate = () => {
			ctx1.clearRect(0, 0, canvas1.width, canvas1.height);

			xCoord += xSpeed;
			yCoord += ySpeed;

			drawRectangle();
			
			id = window.requestAnimationFrame(animate);
		};

		let started = false;
	
		const startAnimation = () => {
			if (!started) id = requestAnimationFrame(animate);

			started = true;
		};

		const stopAnimation = () => {
			cancelAnimationFrame(id);
			started = false;
		};

		
		document.getElementById('start-btn').addEventListener('click', startAnimation, false);

		document.getElementById('stop-btn').addEventListener('click', stopAnimation, false);



		// mouse position
		let canvas2 = document.getElementById('canvas-2');
		let ctx2 = canvas2.getContext('2d');

		let defaultMessage = 'Mouse Position: N/A';


		const writeMessage = (message) => {
			ctx2.save();
			ctx2.clearRect(0, 0, canvas2.width, canvas2.height);
			ctx2.font = '19px';
			ctx2.fillStyle = 'black';
			ctx2.fillText(message, 10, 25);
			ctx2.restore();
		};

		const getMousePosition = (event) => {
			let rect = canvas2.getBoundingClientRect();
			return {
				x: event.clientX - rect.left,
				y: event.clientY - rect.top
			};
		};

		canvas2.addEventListener('mousemove', event => {
			mousePosition = getMousePosition(event);
			let message = 'Mouse Position: ' + mousePosition.x + ', ' + mousePosition.y;
			writeMessage(message);
		}, false);

		canvas2.addEventListener('mouseout', () => {
			writeMessage(defaultMessage);
		}, false);

		writeMessage(defaultMessage);
	
	</script>
	</body>
</html>
